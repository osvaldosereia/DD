<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>direito.love â€” Criador de Prompts</title>
  <meta name="theme-color" content="#FFFFFF" />

  <!-- Favicon -->
  <link rel="icon" href="icons/favicon.png" type="image/png" />
  <link rel="apple-touch-icon" href="icons/favicon-180.png" />

  <style>
    :root{
      --bg:#f7f7f9;
      --surface:#ffffff;
      --text:#111113;
      --muted:#6b7280;
      --border:#e5e7eb;

      --primary:#111113;
      --primary-ink:#ffffff;

      --radius:12px;
      --radius-chip:8px;
      --shadow:0 8px 24px rgba(0,0,0,.06);
      --gap:16px;

      --aside-width:440px;   /* coluna direita mais estreita */
      --prompt-width:400px;  /* banner e textarea com 400px */
      --font:-apple-system,BlinkMacSystemFont,"Inter","Segoe UI",Roboto,system-ui,sans-serif;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg); color:var(--text);
      font:400 16px/1.5 var(--font); -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }

    .topbar{
      position:sticky; top:0; z-index:30;
      background:var(--surface);
      border-bottom:1px solid var(--border);
      display:grid; place-items:center; padding:6px 10px;
    }
    .topbar .logo{display:flex; align-items:center; gap:8px}
    .topbar img{height:clamp(28px,4.5vw,40px); width:auto; display:block}

    .wrap{
      display:grid; gap:var(--gap);
      grid-template-columns:1fr; padding:18px; max-width:1400px; margin:0 auto;
    }
    @media (min-width:1100px){
      .wrap{grid-template-columns:minmax(0,1fr) var(--aside-width); align-items:start;}
    }

    .card{background:var(--surface); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow);}

    .builder{padding:16px 18px}
    .builder h2{margin:0 0 8px; font-size:18px; font-weight:700;}
    label[for=tema], .section-title{font-size:13px; color:var(--muted); margin:6px 0}
    #tema{
      width:100%; border:1px solid var(--border); background:#fff; color:var(--text);
      padding:10px 12px; border-radius:10px; font-size:15px; outline:none;
    }
    #tema::placeholder{color:#9aa3af}

    .chips{display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:8px; margin-top:8px}
    @media (min-width:640px){ .chips{grid-template-columns:repeat(3,minmax(0,1fr));} }
    @media (min-width:1200px){ .chips{grid-template-columns:repeat(5,minmax(0,1fr));} }
    .chip{
      background:#fff; border:1px solid var(--border); color:var(--text);
      border-radius:var(--radius-chip); padding:7px 10px; font-size:12px; line-height:1.25; cursor:pointer;
      transition:.15s ease; text-align:center;
      display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
    }
    .chip:hover{background:#fafafa}
    .chip[data-selected="true"]{
      background:#f3f4f6; border-color:#d1d5db; box-shadow:inset 0 0 0 1px #e5e7eb;
    }

    .actions{display:flex; gap:10px; margin-top:12px; flex-wrap:wrap}
    .btn{
      appearance:none; border:1px solid var(--border); background:#fff; color:var(--text);
      padding:10px 14px; border-radius:10px; font-size:14px; cursor:pointer; transition:.15s;
    }
    .btn:hover{box-shadow:var(--shadow)}
    .btn.primary{background:var(--primary); color:var(--primary-ink); border-color:var(--primary); font-weight:700}
    .btn:disabled{opacity:.5; cursor:not-allowed; box-shadow:none}

    .aside{position:sticky; top:56px; padding:12px}
    .stack{max-width:var(--prompt-width); margin:0 auto;}

    .ad{display:flex; justify-content:center; align-items:center; margin:0 0 10px 0}
    .ad .box{
      width:min(var(--prompt-width), 100%);
      aspect-ratio:400/180;
      border:1px dashed var(--border); border-radius:10px;
      background:#fff; color:var(--muted); display:flex; align-items:center; justify-content:center; font-size:13px;
    }

    textarea#saida{
      width:min(var(--prompt-width), 100%);
      min-height:32vh;
      resize:vertical; padding:10px 12px; border-radius:10px;
      border:1px solid var(--border); background:#fff; color:var(--text);
      font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono",monospace; font-size:13.5px;
      display:block; margin:0 auto;
    }

    .muted{color:var(--muted); font-size:12.5px}
    .toast{position:fixed; left:50%; transform:translateX(-50%); bottom:18px; background:#111; color:#fff; padding:8px 12px; border-radius:999px; opacity:0; transition:.2s; z-index:60}
    .toast.show{opacity:1}
    .info{margin-top:6px; font-size:12px; color:var(--muted)}
  </style>
</head>
<body>
  <header class="topbar">
    <div class="logo" aria-label="direito.love">
      <img src="icons/logo.png" alt="direito.love">
    </div>
  </header>

  <div class="wrap">
    <main class="builder card" id="builder" aria-labelledby="titulo-builder">
      <h2 id="titulo-builder">Criador de Prompts â€” Estudantes de Direito</h2>
      <label for="tema">Tema</label>
      <input id="tema" maxlength="120" placeholder="Digite aqui o tema que deseja estudar..." autocomplete="off" />
      <div class="section-title">Selecione como quer estudar:</div>
      <div class="chips" id="chips" aria-label="SessÃµes disponÃ­veis"></div>
      <div class="actions">
        <button id="criar" class="btn primary" disabled>Criar Prompt</button>
        <button id="limpar" class="btn" title="Limpar seleÃ§Ãµes">Limpar</button>
      </div>
      <div class="info">A <strong>ordem dos cliques</strong> define a sequÃªncia das sessÃµes no prompt.</div>
    </main>

    <aside class="aside card">
      <div class="stack">
        <div class="ad"><div class="box">AnÃºncio â€¢ 400Ã—180 (auto scale)</div></div>
        <textarea id="saida" readonly placeholder="(vazio)"></textarea>
        <div class="actions" style="margin:10px auto 0; width:min(var(--prompt-width),100%);">
          <button id="copiar2" class="btn">Copiar</button>
          <button id="compartilhar2" class="btn">Compartilhar</button>
          <button id="novo2" class="btn">Novo</button>
        </div>
      </div>
    </aside>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

<script>
(function(){
  const $ = (s, r=document) => r.querySelector(s);
  const $$ = (s, r=document) => [...r.querySelectorAll(s)];
  const toast = (msg, t=1600)=>{const el=$("#toast"); el.textContent=msg; el.classList.add("show"); setTimeout(()=>el.classList.remove("show"), t);};

  const SESSOES = [
    "Conceitos e DefiniÃ§Ãµes","Base Legal Essencial","JurisprudÃªncia MajoritÃ¡ria","Doutrina Relevante",
    "Exemplos e Casos PrÃ¡ticos","Quadro Comparativo","QuestÃµes de FixaÃ§Ã£o","Debates, CrÃ­ticas e TendÃªncias",
    "SÃºmulas e Enunciados","Estrutura de PeÃ§a / Modelos","Checklist de PeÃ§a","RaciocÃ­nio JurÃ­dico (passo a passo)",
    "Mapa Mental","Flashcards","Erros Comuns","Checklist Final de RevisÃ£o",
    "Casos Famosos / Leading Cases","AtualizaÃ§Ãµes Recentes","Dicas de Prova (OAB/Concursos)","ReferÃªncias BibliogrÃ¡ficas"
  ];

  const BASE_PROMPT = `VocÃª deve assumir a persona de uma **equipe de professores especialistas em todas as Ã¡reas do Direito brasileiro**, formada tambÃ©m por **pesquisadores de sÃºmulas e jurisprudÃªncias**. Todos fazem parte da equipe **direito.love**.

ðŸ“Œ Tema escolhido: [INSERIR TEMA AQUI]
ðŸ“Œ SessÃµes a serem seguidas: [INSERIR AQUI A SEQUÃŠNCIA DE SESSÃ•ES DEFINIDA PELO USUÃRIO]

---

### Regras obrigatÃ³rias de escrita:

1. **Seguir exatamente a sequÃªncia de sessÃµes definida pelo usuÃ¡rio.**
   - Nenhuma sessÃ£o pode ser omitida.
   - Cada sessÃ£o deve ser aberta com um **tÃ­tulo claro** e, se necessÃ¡rio, subtÃ­tulos.

2. **Entrega por blocos:**
   - Apresentar no mÃ¡ximo **3 sessÃµes por vez**.
   - Ao final de cada bloco, perguntar:
     âž¡ï¸ â€œDeseja que eu continue para as prÃ³ximas sessÃµes?â€
   - SÃ³ prossiga apÃ³s autorizaÃ§Ã£o.

3. **FormataÃ§Ã£o:**
   - Pular **duas linhas** antes de cada nova sessÃ£o.
   - Usar uma **linha separadora (---)** para dividir os blocos.
   - Estruturar o conteÃºdo em **parÃ¡grafos curtos e claros**.
   - Quando houver quadro comparativo, **organizar em tabela textual simples**.
   - Quando houver questÃµes, numerÃ¡-las (1, 2, 3â€¦) e apresentar alternativas (A, B, C, D, E), logo apÃ³s incluir gabarito comentado.
   - Base legal deve vir unicamente do Planalto Governo.
   - Evite nÃºmeros de julgados; apresente apenas entendimentos.
   - A busca deve ser feita na web.

4. **Linguagem:**
   - Clara, simples e didÃ¡tica, mas mantendo rigor jurÃ­dico.

---

### Encerramento:
Ao finalizar todas as sessÃµes solicitadas, conclua sempre com:

ðŸ’š direito.love`;

  const selected = [];
  const chipsBox = $("#chips");
  const temaEl = $("#tema");
  const criarBtn = $("#criar");
  const limparBtn = $("#limpar");
  const saida = $("#saida");
  const copiar2 = $("#copiar2");
  const compartilhar2 = $("#compartilhar2");
  const novo2 = $("#novo2");

  SESSOES.forEach((nome, idx)=>{
    const b = document.createElement("button");
    b.className="chip"; b.type="button"; b.setAttribute("aria-pressed","false");
    b.dataset.selected="false"; b.dataset.index=String(idx);
    b.title = nome;
    b.textContent = nome;
    b.addEventListener("click", ()=>toggleChip(b, nome));
    chipsBox.appendChild(b);
  });

  function toggleChip(btn, nome){
    const sel = btn.dataset.selected==="true";
    if(sel){
      btn.dataset.selected="false"; btn.setAttribute("aria-pressed","false");
      const i = selected.indexOf(nome); if(i>-1) selected.splice(i,1);
    }else{
      btn.dataset.selected="true"; btn.setAttribute("aria-pressed","true");
      selected.push(nome);
    }
    updateCTA();
  }

  function updateCTA(){
    criarBtn.disabled = !(temaEl.value.trim().length && selected.length);
  }

  temaEl.addEventListener("input", updateCTA);

  limparBtn.addEventListener("click", ()=>{
    temaEl.value=""; selected.length=0; saida.value="";
    $$(".chip", chipsBox).forEach(c=>{c.dataset.selected="false"; c.setAttribute("aria-pressed","false");});
    updateCTA(); toast("Limpou tudo."); window.scrollTo({top:0, behavior:"smooth"});
  });

  criarBtn.addEventListener("click", ()=>{
    const tema = temaEl.value.trim();
    if(!tema){ toast("Digite um tema."); return; }
    if(!selected.length){ toast("Selecione ao menos 1 sessÃ£o."); return; }
    const sequencia = selected.join(" â†’ ");
    const prompt = BASE_PROMPT
      .replace("[INSERIR TEMA AQUI]", tema)
      .replace("[INSERIR AQUI A SEQUÃŠNCIA DE SESSÃ•ES DEFINIDA PELO USUÃRIO]", sequencia);
    saida.value = prompt;
    toast("Prompt criado!");
    saida.focus(); saida.scrollIntoView({behavior:"smooth", block:"center"});
  });

  async function copyOut(){
    try{ await navigator.clipboard.writeText(saida.value); toast("Copiado!"); }
    catch(e){ toast("NÃ£o consegui copiar automaticamente."); }
  }
  async function shareOut(){
    const text = saida.value;
    if(navigator.share){
      try{ await navigator.share({title:"Prompt â€” direito.love", text}); } catch(_){}
    }else{
      await copyOut(); toast("Compartilhar nÃ£o suportado â€” prompt copiado.");
    }
  }
  copiar2.addEventListener("click", copyOut);
  compartilhar2.addEventListener("click", shareOut);
  novo2.addEventListener("click", ()=>{
    temaEl.value=""; selected.length=0; saida.value="";
    $$(".chip", chipsBox).forEach(c=>{c.dataset.selected="false"; c.setAttribute("aria-pressed","false");});
    updateCTA(); temaEl.focus(); window.scrollTo({top:0, behavior:"smooth"});
  });

  temaEl.addEventListener("keydown", (e)=>{
    if(e.key==="Enter" && !criarBtn.disabled){ e.preventDefault(); criarBtn.click(); }
  });
})();
</script>
</body>
</html>
