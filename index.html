<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>direito.love ‚Äî Criador de Prompts</title>
<meta name="theme-color" content="#FFFFFF" />
<style>
  :root{
    /* PALETA (anexo): 575A6C, B4C540, E0E2D2, 3686C9 + fundo claro */
    --bg:#ffffff;         /* fundo */
    --surface:#E0E2D2;    /* cart√µes */
    --text:#303646;       /* texto principal (escuro neutro) */
    --muted:#575A6C;      /* texto secund√°rio (da paleta) */
    --border:#d6dbca;     /* bordas sutis sobre o surface */
    --accent:#3686C9;     /* azul (a√ß√£o primaria) */
    --accent-2:#B4C540;   /* verde-lima (detalhes) */

    --chip:#ffffff;             /* chip base (claro) */
    --chip-hover:#f6f7f2;       /* hover discreto */
    --chip-on:#EAF3FB;          /* chip selecionado (azul claro) */
    --chip-on-border:#BFD9F1;

    --radius:14px;
    --radius-chip:10px;         /* menos arredondado */
    --shadow:0 6px 22px rgba(0,0,0,.08);
    --max-aside:820px;          /* lateral alvo ~800px */
    --gap:16px;
    --font:-apple-system,BlinkMacSystemFont,"Inter","Segoe UI",Roboto,system-ui,sans-serif;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0;background:var(--bg);color:var(--text);font:400 16px/1.5 var(--font);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}

  /* Topbar */
  .topbar{
    position:sticky; top:0; z-index:30;
    background:color-mix(in oklab, var(--surface) 92%, white);
    border-bottom:1px solid var(--border);
    display:grid; place-items:center; padding:10px 16px;
  }
  .topbar .logo{display:flex; align-items:center; gap:12px}
  .topbar img{height:clamp(36px, 5vw, 56px); width:auto; display:block} /* LOGO MAIOR */
  .topbar .brand{font-weight:700; color:var(--muted); letter-spacing:.2px}

  /* Layout */
  .wrap{display:grid; gap:var(--gap); grid-template-columns:1fr; padding:20px; max-width:1400px; margin:0 auto;}
  @media (min-width:1100px){ .wrap{grid-template-columns:1fr minmax(680px,var(--max-aside)); align-items:start;} }
  .card{background:var(--surface); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow);}
  .builder{padding:20px}
  .section-title{font-size:14px; color:var(--muted); margin:8px 0 6px}
  label[for=tema]{display:block; font-size:14px; color:var(--muted); margin:4px 0 6px}
  #tema{
    width:100%; border:1px solid var(--border); background:#fff; color:var(--text);
    padding:12px 14px; border-radius:12px; font-size:16px; outline:none;
  }
  #tema::placeholder{color:#8a91a0}

  /* Chips compactos e discretos */
  .chips{display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:8px; margin-top:10px}
  @media (min-width:640px){ .chips{grid-template-columns:repeat(3,minmax(0,1fr));} }
  @media (min-width:1100px){ .chips{grid-template-columns:repeat(4,minmax(0,1fr));} }
  .chip{
    border:1px solid var(--border); background:var(--chip); color:var(--text);
    border-radius:var(--radius-chip); padding:8px 10px; font-size:12.5px; line-height:1.2; cursor:pointer;
    display:flex; align-items:center; justify-content:center; gap:6px; transition:.15s ease;
    white-space:nowrap; overflow:hidden; text-overflow:ellipsis; /* evita texto estourar */
  }
  .chip:hover{background:var(--chip-hover)}
  .chip[data-selected="true"]{
    background:var(--chip-on); border-color:var(--chip-on-border);
    box-shadow: inset 0 0 0 1px rgba(54,134,201,.20);
  }
  .chip .tick{display:none}
  .chip[data-selected="true"] .tick{display:inline; color:var(--accent)}

  /* A√ß√µes */
  .actions{display:flex; gap:10px; margin-top:14px; flex-wrap:wrap}
  .btn{
    appearance:none; border:1px solid var(--border); background:#fff; color:var(--text);
    padding:10px 14px; border-radius:12px; font-size:14px; cursor:pointer; transition:.15s ease;
  }
  .btn:hover{box-shadow:var(--shadow)}
  .btn.primary{background:var(--accent); color:#fff; border:none; font-weight:700} /* azul s√≥lido p/ contraste */
  .btn:disabled{opacity:.45; cursor:not-allowed; box-shadow:none}

  /* Lateral (resultado) */
  .aside{position:sticky; top:74px; padding:16px}
  .aside h3{margin:0 0 10px}
  textarea#saida{
    width:100%; min-height:60vh; resize:vertical; padding:12px 14px; border-radius:12px;
    border:1px solid var(--border); background:#fff; color:var(--text);
    font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; font-size:14px;
  }
  .muted{color:var(--muted); font-size:13px}

  /* Toast */
  .toast{position:fixed; left:50%; transform:translateX(-50%); bottom:18px; background:#fff; color:var(--text); padding:10px 14px; border:1px solid var(--border); border-radius:999px; opacity:0; transition:.2s; z-index:60}
  .toast.show{opacity:1}

  .info{margin-top:6px; font-size:12px; color:var(--muted)}
</style>
</head>
<body>
  <!-- Topbar -->
  <header class="topbar card">
    <div class="logo" aria-label="direito.love">
      <img src="icons/logo.png" alt="direito.love" onerror="this.style.display='none'; this.nextElementSibling.style.display='inline-block'">
      <span class="brand" style="display:none">direito.love</span>
    </div>
  </header>

  <!-- Layout -->
  <div class="wrap">
    <!-- Builder -->
    <main class="builder card" id="builder" aria-labelledby="titulo-builder">
      <h2 id="titulo-builder" style="margin:2px 0 8px">Criador de Prompts ‚Äî Estudantes de Direito</h2>

      <label for="tema">Tema</label>
      <input id="tema" maxlength="120" placeholder="Digite aqui o tema que deseja estudar..." autocomplete="off" />

      <div class="section-title">Selecione como quer estudar:</div>
      <div class="chips" id="chips" aria-label="Sess√µes dispon√≠veis"></div>

      <div class="actions">
        <button id="criar" class="btn primary" disabled>Criar Prompt</button>
        <button id="limpar" class="btn" title="Limpar sele√ß√µes">Limpar</button>
      </div>
      <div class="info">A <strong>ordem dos cliques</strong> define a sequ√™ncia das sess√µes no prompt.</div>
    </main>

    <!-- Resultado (lateral ~800px no desktop) -->
    <aside class="aside card">
      <h3>Resultado</h3>
      <p class="muted">O prompt completo aparece aqui ap√≥s voc√™ clicar em <em>Criar Prompt</em>.</p>
      <textarea id="saida" readonly placeholder="(vazio)"></textarea>
      <div class="actions" style="margin-top:10px">
        <button id="copiar2" class="btn">Copiar</button>
        <button id="compartilhar2" class="btn">Compartilhar</button>
        <button id="novo2" class="btn">Novo</button>
      </div>
    </aside>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

<script>
(function(){
  const $ = (s, r=document) => r.querySelector(s);
  const $$ = (s, r=document) => [...r.querySelectorAll(s)];
  const toast = (msg, t=1800)=>{const el=$("#toast"); el.textContent=msg; el.classList.add("show"); setTimeout(()=>el.classList.remove("show"), t);};

  // 20 SESS√ïES ‚Äî t√≠tulo completo vai no title p/ hover, chip mostra com retic√™ncias se precisar
  const SESSOES = [
    "Conceitos e Defini√ß√µes",
    "Base Legal Essencial",
    "Jurisprud√™ncia Majorit√°ria",
    "Doutrina Relevante",
    "Exemplos e Casos Pr√°ticos",
    "Quadro Comparativo",
    "Quest√µes de Fixa√ß√£o",
    "Debates, Cr√≠ticas e Tend√™ncias",
    "S√∫mulas e Enunciados",
    "Estrutura de Pe√ßa / Modelos",
    "Checklist de Pe√ßa",
    "Racioc√≠nio Jur√≠dico (passo a passo)",
    "Mapa Mental",
    "Flashcards",
    "Erros Comuns",
    "Checklist Final de Revis√£o",
    "Casos Famosos / Leading Cases",
    "Atualiza√ß√µes Recentes",
    "Dicas de Prova (OAB/Concursos)",
    "Refer√™ncias Bibliogr√°ficas"
  ];

  const BASE_PROMPT = `Voc√™ deve assumir a persona de uma **equipe de professores especialistas em todas as √°reas do Direito brasileiro**, formada tamb√©m por **pesquisadores de s√∫mulas e jurisprud√™ncias**. Todos fazem parte da equipe **direito.love**.

üìå Tema escolhido: [INSERIR TEMA AQUI]
üìå Sess√µes a serem seguidas: [INSERIR AQUI A SEQU√äNCIA DE SESS√ïES DEFINIDA PELO USU√ÅRIO]

---

### Regras obrigat√≥rias de escrita:

1. **Seguir exatamente a sequ√™ncia de sess√µes definida pelo usu√°rio.**
   - Nenhuma sess√£o pode ser omitida.
   - Cada sess√£o deve ser aberta com um **t√≠tulo claro** e, se necess√°rio, subt√≠tulos.

2. **Entrega por blocos:**
   - Apresentar no m√°ximo **3 sess√µes por vez**.
   - Ao final de cada bloco, perguntar:
     ‚û°Ô∏è ‚ÄúDeseja que eu continue para as pr√≥ximas sess√µes?‚Äù
   - S√≥ prossiga ap√≥s autoriza√ß√£o.

3. **Formata√ß√£o:**
   - Pular **duas linhas** antes de cada nova sess√£o.
   - Usar uma **linha separadora (---)** para dividir os blocos.
   - Estruturar o conte√∫do em **par√°grafos curtos e claros**.
   - Quando for necess√°rio um quadro comparativo, **organizar em tabela textual simples**, pr√≥pria para leitura impressa.
   - Quando houver quest√µes, numer√°-las (1, 2, 3‚Ä¶) e apresentar alternativas (A, B, C, D, E).

4. **Linguagem:**
   - Clara, simples e did√°tica, mas mantendo rigor jur√≠dico.
   - Evitar juridiqu√™s desnecess√°rio.

---

### Encerramento:
Ao finalizar todas as sess√µes solicitadas, conclua sempre com:

üíö direito.love`;

  const selected = [];
  const chipsBox = $("#chips");
  const temaEl = $("#tema");
  const criarBtn = $("#criar");
  const limparBtn = $("#limpar");
  const saida = $("#saida");
  const copiar2 = $("#copiar2");
  const compartilhar2 = $("#compartilhar2");
  const novo2 = $("#novo2");

  // Monta chips compactos
  SESSOES.forEach((nome, idx)=>{
    const b = document.createElement("button");
    b.className="chip"; b.type="button"; b.setAttribute("aria-pressed","false");
    b.dataset.selected="false"; b.dataset.index=String(idx);
    b.title = nome; // hover mostra o nome completo
    b.innerHTML=`<span class="tick">‚úî</span><span class="txt">${nome}</span>`;
    b.addEventListener("click", ()=>toggleChip(b, nome));
    chipsBox.appendChild(b);
  });

  function toggleChip(btn, nome){
    const sel = btn.dataset.selected==="true";
    if(sel){
      btn.dataset.selected="false"; btn.setAttribute("aria-pressed","false");
      const i = selected.indexOf(nome); if(i>-1) selected.splice(i,1);
    }else{
      btn.dataset.selected="true"; btn.setAttribute("aria-pressed","true");
      selected.push(nome);
    }
    updateCTA();
  }

  function updateCTA(){
    criarBtn.disabled = !(temaEl.value.trim().length && selected.length);
  }

  temaEl.addEventListener("input", updateCTA);

  limparBtn.addEventListener("click", ()=>{
    temaEl.value=""; selected.length=0; saida.value="";
    $$(".chip", chipsBox).forEach(c=>{c.dataset.selected="false"; c.setAttribute("aria-pressed","false");});
    updateCTA(); toast("Limpou tudo.");
    window.scrollTo({top:0, behavior:"smooth"});
  });

  criarBtn.addEventListener("click", ()=>{
    const tema = temaEl.value.trim();
    if(!tema){ toast("Digite um tema."); return; }
    if(!selected.length){ toast("Selecione ao menos 1 sess√£o."); return; }
    const sequencia = selected.join(" ‚Üí ");
    const prompt = BASE_PROMPT
      .replace("[INSERIR TEMA AQUI]", tema)
      .replace("[INSERIR AQUI A SEQU√äNCIA DE SESS√ïES DEFINIDA PELO USU√ÅRIO]", sequencia);
    saida.value = prompt;
    toast("Prompt criado!");
    saida.focus(); saida.scrollIntoView({behavior:"smooth", block:"center"});
  });

  async function copyOut(){
    try{ await navigator.clipboard.writeText(saida.value); toast("Copiado!"); }
    catch(e){ toast("N√£o consegui copiar automaticamente."); }
  }
  async function shareOut(){
    const text = saida.value;
    if(navigator.share){
      try{ await navigator.share({title:"Prompt ‚Äî direito.love", text}); } catch(_){}
    }else{
      await copyOut(); toast("Compartilhar n√£o suportado ‚Äî prompt copiado.");
    }
  }
  copiar2.addEventListener("click", copyOut);
  compartilhar2.addEventListener("click", shareOut);
  novo2.addEventListener("click", ()=>{
    temaEl.value=""; selected.length=0; saida.value="";
    $$(".chip", chipsBox).forEach(c=>{c.dataset.selected="false"; c.setAttribute("aria-pressed","false");});
    updateCTA(); temaEl.focus(); window.scrollTo({top:0, behavior:"smooth"});
  });

  // Enter no tema cria (se v√°lido)
  temaEl.addEventListener("keydown", (e)=>{
    if(e.key==="Enter" && !criarBtn.disabled){ e.preventDefault(); criarBtn.click(); }
  });
})();
</script>
</body>
</html>
